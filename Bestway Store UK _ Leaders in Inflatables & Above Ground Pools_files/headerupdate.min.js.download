define(['jquery','moment'],function($,moment){'use strict';return function(config){var bannerData=config.data;if(bannerData.isenabled){var start=moment();var day=moment().day();var cutOff='';cutOff=bannerData.times[['mon','tues','wed','thurs','fri','sat','sun'][day-1]]||"00,00,00";cutOff=cutOff.replace(/,/g,":");var seconds=0;if(!(cutOff==='00:00:00')){cutOff=moment(cutOff,"HH:mm:ss");var diff=moment.duration(cutOff.diff(start));seconds=Math.round(diff.asSeconds());if(seconds>=0){var htmlConstructor="";var timeString='';var countOutput=setInterval(function(){if(seconds>0){seconds--;}
var currentTime=seconds;var hoursCount=Math.floor(currentTime / 3600);currentTime=currentTime-(hoursCount*3600);var minutesCount=Math.floor(currentTime / 60);currentTime=currentTime-(minutesCount*60);var secondsCount=currentTime;if(seconds>=(2*3600)){timeString=hoursCount+' hrs '+minutesCount+' mins';}else if((seconds>=3600)&&(seconds<(2*3600))){timeString=hoursCount+' hr '+minutesCount+' mins';}else if((seconds<3600)&&(seconds>=0)){timeString='<strong style="color: red;">'+minutesCount+' mins '+secondsCount+' secs'+'</strong>';}
$('.confidence-banner .time-coutdown').html(timeString);},1000);var htmlConstruct="<span class='countdown'>"+bannerData.shipTxt.H1+"<span class='time-coutdown'></span></span>";$('.confidence-banner p').append(htmlConstruct);}}}}});